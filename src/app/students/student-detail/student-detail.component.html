<!-- This div with class container is needed so the spinner will appear in the detail row. -->
<div class="container mat-elevation-z8">

<div class="table-loading-shade" *ngIf="isLoadingResults">
  <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
</div>
  
<div class="table-container">
  <table mat-table [dataSource]="studentDetails" matSort matSortActive="termCreatedDate" matSortDirection="desc">

	<ng-container matColumnDef="termCreatedDate">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
	  <td mat-cell *matCellDef="let detail">{{detail.termCreatedDate}}</td>
	</ng-container>

	<ng-container matColumnDef="termDescription">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
	  <td mat-cell *matCellDef="let detail">{{detail.termDescription}}</td>
	</ng-container>

	<ng-container matColumnDef="applied">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Applied</th>
	  <td mat-cell *matCellDef="let detail"><mat-checkbox [checked]="detail.applied" [disabled]="true"></mat-checkbox></td>
	</ng-container>

	<ng-container matColumnDef="loansTotalAmount">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Loans Total Amount</th>
	  <td mat-cell *matCellDef="let detail">{{detail.loansTotalAmount | currency}}</td>
	</ng-container>

	<ng-container matColumnDef="attemptedHours">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Att. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.attemptedHours}}</td>
	</ng-container>

	<ng-container matColumnDef="earnedHours">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Earn. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.earnedHours}}</td>
	</ng-container>

	<ng-container matColumnDef="completionRate">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Cmp. Rate</th>
	  <td mat-cell *matCellDef="let detail">{{detail.completionRate}}%</td>
	</ng-container>

	<ng-container matColumnDef="gpa">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Cum. GPA</th>
	  <td mat-cell *matCellDef="let detail">{{detail.gpa | number:'1.2-2'}}</td>
	</ng-container>

	<ng-container matColumnDef="financialAidStatus">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
	  <td mat-cell *matCellDef="let detail">{{detail.financialAidStatus}}</td>
	</ng-container>

	<ng-container matColumnDef="financialAidStatusProj">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
	  <td mat-cell *matCellDef="let detail">{{detail.financialAidStatusProj}}</td>
	</ng-container>

	<ng-container matColumnDef="enrolledHours">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Enr. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.enrolledHours}}</td>
	</ng-container>

	<ng-container matColumnDef="droppedHours">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Drp. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.droppedHours}}</td>
	</ng-container>

	<ng-container matColumnDef="attemptedHoursProj">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Att. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.attemptedHoursProj}}</td>
	</ng-container>

	<ng-container matColumnDef="completionRateProj">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Cmp. Rate</th>
	  <td mat-cell *matCellDef="let detail">{{detail.completionRateProj}}%</td>
	</ng-container>

	<ng-container matColumnDef="gpaRequired">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Min. Term GPA</th>
	  <td mat-cell *matCellDef="let detail">{{detail.gpaRequired | number:'1.2-2'}}</td>
	</ng-container>

	<ng-container matColumnDef="addlHoursRequired">
	  <th mat-header-cell *matHeaderCellDef mat-sort-header>Addl. Hrs</th>
	  <td mat-cell *matCellDef="let detail">{{detail.addlHoursRequired}}</td>
	</ng-container>

    <!-- Group header for columns not in a group -->
    <ng-container matColumnDef="hdr-blank-grp">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="4"></th>
    </ng-container>
  
    <!-- Group header for columns in the 'Current' group -->
    <ng-container matColumnDef="hdr-current-grp">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">Current</th>
    </ng-container>
  
    <!-- Group header for columns in the 'Projected' group -->
    <ng-container matColumnDef="hdr-projected-grp">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">Projected</th>
    </ng-container>
  
    <!-- Group header for columns in the 'Required' group -->
    <ng-container matColumnDef="hdr-required-grp">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="5">Required</th>
    </ng-container>

    <!-- The grouping header row. -->
    <tr mat-header-row *matHeaderRowDef="['hdr-blank-grp', 'hdr-current-grp', 'hdr-projected-grp', 'hdr-required-grp']"></tr>
  
	<!-- The main header row. It's sticky so it won't move during scrolling. -->
	<tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>	
	<tr mat-row *matRowDef="let detail; columns: columnsToDisplay;"></tr>

  </table>
</div>

<mat-paginator [length]="totalDetails" [pageSize]="defaultPageSize" [pageSizeOptions]="pageSizeOptions" [showFirstLastButtons]="showFirstLastButtons"></mat-paginator>
</div>
